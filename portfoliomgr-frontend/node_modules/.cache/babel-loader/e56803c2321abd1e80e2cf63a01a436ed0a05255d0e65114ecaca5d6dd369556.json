{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"playlistSongsVue\",\n  data() {\n    return {\n      error: false,\n      showModal: false,\n      currentSong: null\n    };\n  },\n  computed: {\n    user() {\n      return JSON.parse(localStorage.getItem(\"user\"));\n    },\n    music() {\n      return JSON.parse(localStorage.getItem(\"music\"));\n    },\n    songs() {\n      return JSON.parse(localStorage.getItem(\"playlistSongs\"));\n    }\n  },\n  methods: {\n    openModal(song) {\n      this.currentSong = song;\n      this.showModal = true;\n    },\n    closeModal() {\n      this.showModal = false;\n    },\n    async removeFromPlaylist(playlist_id, song_id) {\n      try {\n        const token = this.user.access_token;\n        const response = await fetch(`http://127.0.0.1:5000/api/playlist/songs/${playlist_id}/${song_id}`, {\n          method: \"DELETE\",\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        if (response.ok) {\n          alert(\"Song removed!\");\n          this.$router.push(\"/playlists\");\n        } else {\n          this.error = true;\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async getPlaylists() {\n      try {\n        const token = this.user.access_token;\n        const response = await fetch(`http://127.0.0.1:5000/api/playlist/${this.user.user_id}`, {\n          method: \"GET\",\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        if (response.ok) {\n          const res = await response.json();\n          this.music.playlists = res.playlists;\n          localStorage.setItem(\"music\", JSON.stringify(this.music));\n          this.$router.push(\"/playlists\");\n        } else {\n          this.error = true;\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["name","data","error","showModal","currentSong","computed","user","JSON","parse","localStorage","getItem","music","songs","methods","openModal","song","closeModal","removeFromPlaylist","playlist_id","song_id","token","access_token","response","fetch","method","headers","Authorization","ok","alert","$router","push","console","log","getPlaylists","user_id","res","json","playlists","setItem","stringify"],"sources":["/Users/pranav/DBMS_Project/Portfolio-Manager/portfoliomgr-frontend/src/components/playlistSongs.vue"],"sourcesContent":["<template>\n  <div v-if=\"!error\" class=\"dashboard-container\">\n    <div class=\"main-content\">\n      <nav class=\"navbar\">\n        <ul class=\"nav-list\">\n          <li class=\"nav-item\">\n            <router-link to=\"/about\" class=\"btn btn-primary\"\n              >About Us</router-link\n            >\n          </li>\n          <li class=\"nav-item\">\n            <router-link to=\"/dashboard\" class=\"btn btn-primary\"\n              >Dashboard</router-link\n            >\n          </li>\n        </ul>\n\n        <ul class=\"nav-list justify-content-end\">\n          <li class=\"nav-item\">\n            <button class=\"btn btn-primary\" @click=\"getPlaylists\">\n              Playlists\n            </button>\n          </li>\n          <li class=\"nav-item logout\">\n            <router-link to=\"/\" class=\"btn btn-primary\">Logout</router-link>\n          </li>\n        </ul>\n      </nav>\n\n      <div style=\"display: flex; flex-wrap: wrap\">\n        <div v-for=\"song in songs\" :key=\"song.Song_ID\" class=\"card-wrapper\">\n          <div class=\"card\" style=\"width: 18rem\">\n            <img\n              :src=\"`http://127.0.0.1:5000/static/${song.Album_Image}`\"\n              alt=\"Album Image\"\n              height=\"300px\"\n            />\n\n            <div class=\"card-body\">\n              <h5 class=\"card-title\">{{ song.Song_Name }}</h5>\n            </div>\n\n            <div class=\"card-buttons\">\n              <router-link\n                to=\"/song/:id\"\n                class=\"card-link play-link\"\n                title=\"Play Song\"\n                ><img src=\"../assets/Play.png\" height=\"50px\" weight=\"50px\"\n              /></router-link>\n\n              <button\n                class=\"playlist-button\"\n                @click=\"openModal(song.Song_ID)\"\n                title=\"Remove\"\n              >\n                ‚ùå\n              </button>\n\n              <div\n                class=\"modal-overlay\"\n                v-if=\"showModal && currentSong == song.Song_ID\"\n              >\n                <div class=\"modal-content\">\n                  <h3>Remove?</h3>\n                  <button\n                    @click=\"removeFromPlaylist(song.Playlist_ID, song.Song_ID)\"\n                  >\n                    Remove from Playlist?\n                  </button>\n                  <button @click=\"closeModal\">Close</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div v-else class=\"error-message dashboard-container\">\n    <p class=\"text-danger\">Error Occurred!</p>\n    <router-link to=\"/\" class=\"btn btn-dark btn-sm\"\n      >Go Back to Login</router-link\n    >\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"playlistSongsVue\",\n  data() {\n    return {\n      error: false,\n      showModal: false,\n      currentSong: null,\n    };\n  },\n  computed: {\n    user() {\n      return JSON.parse(localStorage.getItem(\"user\"));\n    },\n    music() {\n      return JSON.parse(localStorage.getItem(\"music\"));\n    },\n    songs() {\n      return JSON.parse(localStorage.getItem(\"playlistSongs\"));\n    },\n  },\n  methods: {\n    openModal(song) {\n      this.currentSong = song;\n      this.showModal = true;\n    },\n    closeModal() {\n      this.showModal = false;\n    },\n    async removeFromPlaylist(playlist_id, song_id) {\n      try {\n        const token = this.user.access_token;\n        const response = await fetch(\n          `http://127.0.0.1:5000/api/playlist/songs/${playlist_id}/${song_id}`,\n          {\n            method: \"DELETE\",\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n          }\n        );\n\n        if (response.ok) {\n          alert(\"Song removed!\");\n          this.$router.push(\"/playlists\");\n        } else {\n          this.error = true;\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async getPlaylists() {\n      try {\n        const token = this.user.access_token;\n        const response = await fetch(\n          `http://127.0.0.1:5000/api/playlist/${this.user.user_id}`,\n          {\n            method: \"GET\",\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n          }\n        );\n\n        if (response.ok) {\n          const res = await response.json();\n\n          this.music.playlists = res.playlists;\n          localStorage.setItem(\"music\", JSON.stringify(this.music));\n\n          this.$router.push(\"/playlists\");\n        } else {\n          this.error = true;\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.btn.btn-primary,\n.sidebar-link {\n  background-color: transparent;\n  border: none;\n  color: #aeaeae;\n  padding: 10px 20px;\n  border-radius: 5px;\n  font-size: 0.8rem;\n  cursor: pointer;\n  transition: color 0.3s ease;\n  text-transform: uppercase;\n  font-weight: bold;\n  letter-spacing: 1px;\n  outline: none;\n}\n\n.btn.btn-primary:hover,\n.btn.btn-primary:focus,\n.btn.btn-primary:active,\n.sidebar-link:hover {\n  background-color: transparent;\n  color: #ffffff; /* White text on hover, focus, and active */\n  border: none;\n  box-shadow: none; /* Remove any box-shadow */\n  text-decoration: none;\n}\n\n.nav-list {\n  list-style: none;\n  display: flex;\n  justify-content: space-between; /* Space between items */\n  margin: 0;\n  padding: 0;\n}\n\n.nav-item {\n  margin-right: 15px;\n}\n\n.logout a {\n  color: #fff; /* White text color for logout link */\n}\n\n/* Navbar Styling */\n.navbar {\n  background-color: #000000;\n  padding: 15px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.1);\n  width: 102%;\n}\n\n.card {\n  width: 18rem;\n  margin: 20px;\n  border: 1px solid #ffffff;\n  border-radius: 8px;\n  overflow: hidden;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  transition: transform 0.3s ease-in-out;\n  background-color: #080808;\n  color: #ffffff;\n  text-decoration: solid;\n  font-weight: bold;\n}\n\n.card-stats {\n  width: 30rem;\n  margin: 20px;\n  border: 1px solid #ddd;\n  border-radius: 8px;\n  overflow: hidden;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  transition: transform 0.3s ease-in-out;\n}\n\n.card:hover {\n  transform: scale(1.05);\n}\n\n.card-body {\n  padding: 15px;\n}\n\n.card-title {\n  font-size: 24px;\n  margin-bottom: 10px;\n}\n\n.card-link {\n  color: #007bff;\n  text-decoration: none;\n  font-weight: bold;\n  margin-right: 15px;\n  transition: color 0.3s ease-in-out;\n}\n\n.card-link:hover {\n  color: #0056b3;\n}\n\n.card-buttons {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end; /* Align buttons at the bottom */\n  padding: 0 10px;\n  margin-bottom: 10%; /* Add margin-top to adjust vertical alignment */\n}\n\n.card-link,\n.like-button,\n.playlist-button {\n  background: none;\n  border: none;\n  padding: 0;\n  font-family: inherit;\n  font-size: 2rem;\n  cursor: pointer;\n  text-align: left;\n  color: #007bff; /* Change to your preferred color */\n  transition: color 0.3s ease; /* Add a smooth transition effect */\n  position: relative; /* Enable positioning */\n}\n\n.playlist-button:hover::after {\n  content: attr(title);\n  position: absolute;\n  top: -10px; /* Adjust the distance above the symbol */\n  left: -50px; /* Center horizontally */\n  background-color: #333;\n  color: #fff;\n  padding: 2px;\n  border-radius: 5px;\n  font-size: 0.8rem;\n}\n.card-link:hover::after,\n.like-button:hover::after {\n  content: attr(title);\n  position: absolute;\n  top: -10px; /* Adjust the distance above the symbol */\n  background-color: #333;\n  color: #fff;\n  padding: 2px;\n  border-radius: 5px;\n  font-size: 0.8rem;\n}\n.card-link:hover,\n.like-button:hover,\n.playlist-button:hover {\n  color: #0056b3; /* Change to your preferred hover color */\n}\n\n.logout a {\n  color: #fff; /* White text color for logout link */\n}\n\n/* Navbar Styling */\n.navbar {\n  background-color: #000000;\n  padding: 15px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.1);\n  width: 102%;\n}\n\n.card {\n  width: 18rem;\n  margin: 20px;\n  border: 1px solid #ffffff;\n  border-radius: 8px;\n  overflow: hidden;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  transition: transform 0.3s ease-in-out;\n  background-color: #080808;\n  color: #ffffff;\n  text-decoration: solid;\n  font-weight: bold;\n}\n\n.card:hover {\n  transform: scale(1.05);\n}\n\n.card-body {\n  padding: 15px;\n}\n\n.card-title {\n  font-size: 24px;\n  margin-bottom: 10px;\n}\n\n.card-link {\n  color: #007bff;\n  text-decoration: none;\n  font-weight: bold;\n  margin-right: 15px;\n  transition: color 0.3s ease-in-out;\n}\n\n.card-link:hover {\n  color: #0056b3;\n}\n\n.card-buttons {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end; /* Align buttons at the bottom */\n  padding: 0 10px;\n  margin-bottom: 10%; /* Add margin-top to adjust vertical alignment */\n}\n\n.card-link,\n.like-button,\n.playlist-button {\n  background: none;\n  border: none;\n  padding: 0;\n  font-family: inherit;\n  font-size: 2rem;\n  cursor: pointer;\n  text-align: left;\n  color: #007bff; /* Change to your preferred color */\n  transition: color 0.3s ease; /* Add a smooth transition effect */\n  position: relative; /* Enable positioning */\n}\n\n.playlist-button:hover::after {\n  content: attr(title);\n  position: absolute;\n  top: -10px; /* Adjust the distance above the symbol */\n  left: -50px; /* Center horizontally */\n  background-color: #333;\n  color: #fff;\n  padding: 2px;\n  border-radius: 5px;\n  font-size: 0.8rem;\n}\n.card-link:hover::after,\n.like-button:hover::after {\n  content: attr(title);\n  position: absolute;\n  top: -10px; /* Adjust the distance above the symbol */\n  background-color: #333;\n  color: #fff;\n  padding: 2px;\n  border-radius: 5px;\n  font-size: 0.8rem;\n}\n.card-link:hover,\n.like-button:hover,\n.playlist-button:hover {\n  color: #0056b3; /* Change to your preferred hover color */\n}\n\n.error-message {\n  background-color: #f8d7da;\n  color: #721c24;\n  border: 1px solid #f5c6cb;\n  border-radius: 5px;\n  padding: 10px;\n  margin-top: 10px;\n}\n\n.dashboard-container {\n  display: flex;\n  background-image: url(../assets/Dashboard.jpeg);\n  background-size: cover;\n  background-position: center;\n  width: 100vw;\n  height: 100vh;\n}\n\n.error-message {\n  background-color: #f8d7da;\n  color: #721c24;\n  border: 1px solid #f5c6cb;\n  border-radius: 5px;\n  padding: 10px;\n  margin-top: 10px;\n}\n\n.main-content {\n  flex: 1;\n  padding: 20px; /* Add padding to create space for the sidebar */\n  margin-top: -19.8px;\n  margin-left: -20px;\n}\n</style>\n"],"mappings":";AAwFA,eAAe;EACbA,IAAI,EAAE,kBAAkB;EACxBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,KAAK;MACZC,SAAS,EAAE,KAAK;MAChBC,WAAW,EAAE;IACf,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,IAAIA,CAAA,EAAG;MACL,OAAOC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;IACjD,CAAC;IACDC,KAAKA,CAAA,EAAG;MACN,OAAOJ,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC;IAClD,CAAC;IACDE,KAAKA,CAAA,EAAG;MACN,OAAOL,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,CAAC;IAC1D;EACF,CAAC;EACDG,OAAO,EAAE;IACPC,SAASA,CAACC,IAAI,EAAE;MACd,IAAI,CAACX,WAAU,GAAIW,IAAI;MACvB,IAAI,CAACZ,SAAQ,GAAI,IAAI;IACvB,CAAC;IACDa,UAAUA,CAAA,EAAG;MACX,IAAI,CAACb,SAAQ,GAAI,KAAK;IACxB,CAAC;IACD,MAAMc,kBAAkBA,CAACC,WAAW,EAAEC,OAAO,EAAE;MAC7C,IAAI;QACF,MAAMC,KAAI,GAAI,IAAI,CAACd,IAAI,CAACe,YAAY;QACpC,MAAMC,QAAO,GAAI,MAAMC,KAAK,CACzB,4CAA2CL,WAAY,IAAGC,OAAQ,EAAC,EACpE;UACEK,MAAM,EAAE,QAAQ;UAChBC,OAAO,EAAE;YACPC,aAAa,EAAG,UAASN,KAAM;UACjC;QACF,CACF,CAAC;QAED,IAAIE,QAAQ,CAACK,EAAE,EAAE;UACfC,KAAK,CAAC,eAAe,CAAC;UACtB,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,YAAY,CAAC;QACjC,OAAO;UACL,IAAI,CAAC5B,KAAI,GAAI,IAAI;QACnB;MACF,EAAE,OAAOA,KAAK,EAAE;QACd6B,OAAO,CAACC,GAAG,CAAC9B,KAAK,CAAC;MACpB;IACF,CAAC;IACD,MAAM+B,YAAYA,CAAA,EAAG;MACnB,IAAI;QACF,MAAMb,KAAI,GAAI,IAAI,CAACd,IAAI,CAACe,YAAY;QACpC,MAAMC,QAAO,GAAI,MAAMC,KAAK,CACzB,sCAAqC,IAAI,CAACjB,IAAI,CAAC4B,OAAQ,EAAC,EACzD;UACEV,MAAM,EAAE,KAAK;UACbC,OAAO,EAAE;YACPC,aAAa,EAAG,UAASN,KAAM;UACjC;QACF,CACF,CAAC;QAED,IAAIE,QAAQ,CAACK,EAAE,EAAE;UACf,MAAMQ,GAAE,GAAI,MAAMb,QAAQ,CAACc,IAAI,CAAC,CAAC;UAEjC,IAAI,CAACzB,KAAK,CAAC0B,SAAQ,GAAIF,GAAG,CAACE,SAAS;UACpC5B,YAAY,CAAC6B,OAAO,CAAC,OAAO,EAAE/B,IAAI,CAACgC,SAAS,CAAC,IAAI,CAAC5B,KAAK,CAAC,CAAC;UAEzD,IAAI,CAACkB,OAAO,CAACC,IAAI,CAAC,YAAY,CAAC;QACjC,OAAO;UACL,IAAI,CAAC5B,KAAI,GAAI,IAAI;QACnB;MACF,EAAE,OAAOA,KAAK,EAAE;QACd6B,OAAO,CAACC,GAAG,CAAC9B,KAAK,CAAC;MACpB;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}